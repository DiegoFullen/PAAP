<!DOCTYPE html>
<html lang="es">
{% load static %}

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <link rel="icon" href="{% static 'resources/img/logotipoColor.png' %}" type="image/x-icon">
    <title>Dashboard</title>

    <link rel="stylesheet" href="{% static 'css/dashboard.css'%}">
    <!-- Custom fonts for this template-->
    <link href="{% static 'js/vendor/fontawesome-free/css/all.min.css'%}" rel="stylesheet" type="text/css">
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">

    <!-- Custom styles for this template-->
    <link href="{% static 'css/sb-admin-2.min.css'%}" rel="stylesheet">

</head>

<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">

        <!-- Sidebar -->
        <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion custom-nav" id="accordionSidebar">

            <!-- Sidebar - Brand -->
            <a class="sidebar-brand d-flex align-items-center justify-content-center" href="#">
                <img src="{% static 'resources/img/logotipoColor.png'%}" class="img-fluid" id="logoDash"
                    alt="Responsive logo">
                <div class="sidebar-brand-text mx-3"
                    style="font-family: 'Post No Bills Jaffna SemiBold', sans-serif; font-size: 1.8rem; color: #2E3EA5;">
                    PAAP
                </div>
                <div class="text-center d-none d-md-inline mt-3">
                    <button class="border-0" id="sidebarToggle"></button>
                </div>
            </a>

            <!-- Divider -->
            <hr class="sidebar-divider my-0">

            <!-- Heading -->
            <div class="sidebar-heading mt-4 opacity-50">
                MENU
            </div>

            <!-- Nav Item - Charts -->
            <li class="nav-item ml-2">
                <a class="nav-link" href="{% url 'dashboard'%}">
                    <i class="fas fa-fw fa-chart-area"></i>
                    <span>Dashboard</span></a>
            </li>

            <!-- Nav Item - Entrenamiento -->
            <li class="nav-item ml-2">
                <a class="nav-link" href="{% url 'ia'%}">
                    <i class="fas fa-fw fa-table"></i>
                    <span>Entrenamiento</span></a>
            </li>

            <!-- Nav Item - Tables -->
            <li class="nav-item ml-2">
                <a class="nav-link" href="{% url 'resources'%}">
                    <i class="fas fa-book"></i>
                    <span>Recursos</span></a>
            </li>

            <!-- Heading -->
            <div class="sidebar-heading mt-5">
                AJUSTES
            </div>

            <!-- Nav Item - Pagos -->
            <li class="nav-item ml-2 ">
                <a class="nav-link" href="{% url 'payment' %}">
                    <i class="fas fa-solid fa-wallet"></i>
                    <span>Pagos</span></a>
            </li>

            <!-- Nav Item - Cuenta -->
            <li class="nav-item ml-2 ">
                <a class="nav-link" href="{% url 'account' %}">
                    <i class="fas fa-solid fa-user"></i>
                    <span>Cuenta</span></a>
            </li>

            <!-- Heading -->
            <div class="sidebar-heading mt-5">
                OTROS
            </div>

            <!-- Nav Item - Manual -->
            <li class="nav-item ml-2">
                <a class="nav-link" href="#">
                    <i class="fas fa-solid fa-info"></i>
                    <span>Manual</span></a>
            </li>

            <!-- Divider -->
            <hr class="sidebar-divider d-none d-md-block mt-4">
            <hr class="sidebar-divider d-none d-md-block mt-5">
            <hr class="sidebar-divider d-none d-md-block mt-5">

            <div class="mt-auto">
                <!-- Divider -->
                <hr class="sidebar-divider" style="border-top: 3px solid #bbb;">

                <!-- Nav Item - Salir -->
                <li class="nav-item ml-2">
                    <button class="nav-link w-95 text-left border-0" id="btnSalir">
                        <span>Cerrar Sesión</span>
                    </button>
                </li>
            </div>
        </ul>
        <!-- End of Sidebar -->

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <!-- Begin Page Content -->
                <div class="container-fluid">

                    <!-- Page Heading -->
                    <!--<h1 class="h3 mb-4 text-gray-800 mt-3">placeholder algo algo sjdiasd</h1> -->
                    
                    <div class="container mt-5" id="infoSet">
                        <div class="row justify-content-md-end">

                            <div class="col-md-auto">
                                <select class="form-control" id="selectModel" name="selectModel">
                                    <option value="">Despligue de Información</option>
                                    {% for modelo in modelos %}
                                        <option 
                                            value="{{ modelo.id_model }}" 
                                            data-model-name = "{{modelo.name}}"
                                            data-dataset-name="{{ modelo.name_dataset }}"
                                            data-model-type="{{ modelo.type}}"
                                            data-model-training = "{{modelo.type_cr}}"
                                            data-model-id="{{modelo.id_model}}"
                                            data-dataset-id="{{modelo.id_dataset}}"
                                        >
                                            {{ modelo.name}}
                                        </option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="col-md-auto">
                                <span style="font-weight: 400; font-size: 1.1rem;" id="displayModelName">-</span>
                            </div>
                            <div class="col" style="text-align: end;">
                                <button class="btn-circle" id="btnDownload"><i
                                        class="fas fa-solid fa-download"></i></button>
                                <button class="btn-circle" id="btnErase"><i class="fas fa-solid fa-trash"></i></button>
                            </div>
                        </div>

                        <div class="row pr-5 justify-content-md-center">
                            <div class="col-md-auto">
                                <span style=" color: #082431; font-weight: 400; font-size: 1.1rem;">Dataset de
                                    Entrenamiento</span> <br>
                                <span id="displayDatasetName">Dataset</span>
                            </div>
                            <div class="col-md-auto">
                                <span style=" color: #082431; font-weight: 400; font-size: 1.1rem;">Tipo de
                                    Entrenamiento</span>
                                <br>
                                <span id="displayModelType">Algoritmo</span><span> - </span><span id="displayModelTypeTraining">Reg/Cla</span>
                            </div>
                            <div class="col-md-auto ml-2">
                                <span style=" color: #082431; font-weight: 400; font-size: 1.1rem;">Horas Usadas</span>
                                <br>
                                <span>Horas</span>
                            </div>
                        </div>
                    </div>
                    

                    <!-- Alert para confirmar Cerrar Sesión -->
                    <dialog id="dialog">
                        <h5 class="montserrat">Cerrar Sesión</h5>
                        <p>Está por abandonar la plaforma ¿Desea continuar?</p>

                        <div class="controlPanel">
                            <button type="button" class="btn btn-outline-primary" id="optAccept">Aceptar</button>
                            <button type="button" class="btn btn-outline-dark" id="optCancel">Cancelar</button>
                        </div>
                    </dialog>

                    <!-- Alert para confirmación de eliminar Modelo -->
                    <dialog class="alertDialog">
                        <h5 class="montserrat">Confirmación Eliminar Modelo</h5>
                        <p>Está por eliminar el modelo entrenado de la base de datos. <br>Este proceso es
                            permanente ¿Desea continuar?</p>

                        <div class="controlPanel">
                            <button type="button" class="btn btn-outline-primary" id="eraseAccept">Aceptar</button>
                            <button type="button" class="btn btn-outline-dark" id="eraseDeny">Cancelar</button>
                        </div>
                    </dialog>

                    {% for modelo in modelos %}
                        {% for image_url in modelo.image_urls %}
                            <div class="modelInfo" data-model-id="{{ modelo.id_model }}" style="display: none;">
                                <div id="formContainer">
                                    <div id="graphicModel">
                                        <img src="{{ image_url }}" alt="Gráfica Modelo" class="img-fluid">
                                    </div>
                                    <!-- TODO LO DEMÁS PERMANECE EXACTAMENTE IGUAL -->
                                    <div id="graphicModel_title">
                                        <h1 class="montserrat">Nombre del Modelo</h1>
                                    </div>

                                    {% if forloop.first %}
                                    <div id="precisionModel">
                                        <label for="precisionModel_value">Precisión del Modelo: <span id="valuePrecision"></span>%</label><br>
                                        <input type="range" name="precisionModel_value" id="precisionModel_value" class="slider" disabled value="{{precision}}">
                                    </div>
                                    {% endif %}

                                    <div id="descriptionModel">
                                        <h1 class="montserrat">Descripción</h1>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque purus orci, faucibus ac lectus quis, 
                                            gravida auctor purus. Praesent eget dignissim metus. Sed ornare, urna id venenatis bibendum, ex erat 
                                            lacinia quam, viverra rhoncus nisl magna non lorem. Duis non nisl ut ante pharetra tristique. Pellentesque iaculis, 
                                            ipsum quis porta cursus, dui nisi feugiat dolor, sed hendrerit sapien odio vitae sapien. Nullam lacinia orci et massa 
                                            fringilla rhoncus. Praesent vel lacus sollicitudin, sollicitudin nunc quis, tempus augue. Nulla facilisi. Pellentesque.
                                            Sed venenatis, nunc eu convallis mattis, nibh est tempor enim, eget feugiat neque nulla a velit.</p>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    {% endfor %}

                </div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->


    <!-- Bootstrap core JavaScript-->
    <script src="{% static 'js/vendor/jquery/jquery.min.js'%}"></script>
    <script src="{% static 'js/vendor/bootstrap/js/bootstrap.bundle.min.js'%}"></script>

    <!-- Core plugin JavaScript-->
    <script src="{% static 'js/vendor/jquery-easing/jquery.easing.min.js'%}"></script>

    <!-- Custom scripts for all pages-->

    <script src="{% static 'js/dashboard.min.js'%}"></script>
    <script src="{% static 'js/dashboard.js'%}"></script>
</body>

</html>